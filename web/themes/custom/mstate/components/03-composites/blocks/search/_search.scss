/* ================
	 SEARCH
=================== */
@use '../../../00-base/base' as *;

///mixin placeholder
%searchBlockPlaceholder {
	$placeTint: 1;
	&::-webkit-placeholder{
		opacity: $placeTint;
		color: $searchText;
	}
	&::-moz-placeholder{
		opacity: $placeTint;
		color: $searchText;
	}
	&:-ms-input-placeholder{
		opacity: $placeTint;
		color: $searchText;
	}
	&::-webkit-input-placeholder{
		opacity: $placeTint;
		color: $searchText;
	}
}

///mixin - placeholderFocus
%searchBlockPlaceholderFocus {
	$placeFocusTint: .2;
	&::-webkit-placeholder{
		opacity: $placeFocusTint;
		color: $searchText;
	}
	&::-moz-placeholder{
		opacity: $placeFocusTint;
		color: $searchText;
	}
	&:-ms-input-placeholder{
		opacity: $placeFocusTint;
		color: $searchText;
	}
	&::-webkit-input-placeholder{
		opacity: $placeFocusTint;
		color: $searchText;
	}
}


#site-search-form {
  @include desk{
    width: 352px;
  }
	//search box input
	.js-form-item-site-search-api-fulltext {
		padding: 1.5rem 0;
		width: 100%;
		margin-bottom: 0;
    @include desk{
      padding: 0;
    }
		label {
			@include visuallyHidden;
		}
		input {
			width: 100%;
			background: $white;
			padding: 12px 16px;
			border: none;
			color: $searchText;
			border: 1px solid $borderRule;
			border-radius: 0;
      font-style: italic;
      font-family: $system;
			@extend %searchBlockPlaceholder;
      @include desk{
        padding: 14px 16px 10px;
      }
			//prevent yellow chrome autofill inset
			&:-webkit-autofill {
				-webkit-box-shadow: 0 0 0 1000px $borderRule inset;
			}
			&:hover {
				box-shadow: inset 0 0 0 1px $borderRule;
			}
			&:focus {
				outline: none;
				border-color: $inputBorderFocus;
				box-shadow: inset 0 0 0 1px $inputBorderFocus;
				@extend %searchBlockPlaceholderFocus;
			}
		}//end input
	}//end fulltext search

	//search submit button
	.form-actions {
		position: relative;
		.form-submit.button {
			position: absolute;
			top: -57px;
			right: 8px;
			height: 40px;
			width: 40px;
			background: transparent;
			z-index: 2;
			text-indent: -9000px;
			cursor: pointer;
			padding: 0;
			min-width: 0;
			border: 0;
      @include desk{
        top: -44px;
      }
			&:focus,
			&:hover {
				border: 0;
				box-shadow: none;
				outline: none;
				& + .search-icon {
					background-image: url(../images/elements/search-hover.svg);
				}
			}
		}//end form submit
	  .search-icon {
      display: block;
      width: 20px;
      height: 20px;
			text-indent: -9000px;
			position: absolute;
			top: -46px;
			right: 16px;
			cursor: pointer;
      background-image: url(../images/elements/search.svg);
      background-repeat: no-repeat;
      background-size: 100%;
      background-position: center;
      @include desk{
        top: -35px;
      }
		}//end i
	}//end form-actions
}//end search block form

/* MOBILE SEARCH
-------------------- */
.mobile-search-container{
  ul.sf-menu.menu &{
    padding: 10px $siteMarginMobile 24px;
  }
}//nd mobile search